<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creando una ventana nueva</title>
</head>
<body>
    <p align="center"><b>CREA UN NUEVO DOCUMENTO HTML</b></p>
    <center> 
    <table border="0" cellpadding="0" cellspacing="0" height="108">
        <tr> 
            <td height="87" align="center"> 
            <form name="FORMULARIO" > 
                <input type="button" value="Documento con colores" name="B1" onclick="mostrar(1); pintapagina(1);"> 
                <input type="button" value="Valores por defecto" name="B2" onclick= "mostrar(0); pintapagina(0);"><br> 
                <textarea rows="4" name="area" cols="20" READONLY WRAP>Haz clic en uno de los botones</textarea> 
            </form>
            </td>
        </tr> 
    </table> 
    </center> 

    <script>

    var textoHTML = "";

    textoHTML += "<head>";
    textoHTML += "<title>PÁGINA QUE CAMBIA DE COLORES<\/title>";
    textoHTML += "<\/head>";
    textoHTML += "<body>";
    textoHTML += "<p>ESTA ES MI PÁGINA WEB<\/><br><br>";
    textoHTML += "<a href='HTML-solo-Uso-window-y-document-Creando-Ventana.html'>Visita otro ejemplo<\/a>";
    textoHTML += "<\/body>";    

    function mostrar(valor){
        if(valor == 1){
            document.getElementsByTagName("textarea")[0].value = "Fondo: Amarillo, Color Texto: Azul, Link: Rojo, Links visitados: Rosa";

        }else{
            document.getElementsByTagName("textarea")[0].value = "Fondo: Blanco, Color Texto: Negro, Link: Azul, Links visitados: Rojo";
        }
    }

    function pintapagina(valor){  
        if(valor == 1){
            var x=window.open();            
          
            x.document.write(textoHTML);

            x.document.body.style.background="yellow";
            x.document.body.style.color = "blue";

            for(let i = 0; i<x.document.links.length; i++){
                x.document.links[i].style.color = "red";
            }

            var visitados = x.document.querySelectorAll('a:visited');

            for(let i = 0; i<visitados.length; i++){
                visitados[i].style.color = "#FFC0CB";
            }

        }else{
            var y=window.open();
            
            y.document.write(textoHTML);

            y.document.body.style.background="white";
            y.document.body.style.color = "black";

            for(let i = 0; i<y.document.links.length; i++){
                y.document.links[i].style.color = "blue";
            }

            var visitados = y.document.querySelectorAll('a:visited');

            for(let i = 0; i<visitados.length; i++){
                visitados[i].style.color = "red";
            }
        }
    }

    </script>
    
    
</body>
</html>